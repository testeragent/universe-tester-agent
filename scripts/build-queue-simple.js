// Build test queue - simplified approach
// Reads categories and creates flat queue structure

const fs = require('fs');

const categories = [
  { name: 'LOGOWANIE', gid: '1212837488529448', subtasks: ['1212846187345678','1212837504116076','1212837500946466','1212837500945149','1212837499928711','1212837499921001','1212837499916465','1212812374128430','1212811178684592'] },
  { name: 'PROJEKTY', gid: '1212812926071907', subtasks: ['1212837511979669','1212837510831639','1212837503980660','1212837508338600','1212837499916505','1212811178724695','1212837507052367','1212837508301776','1212811178693911','1212837504338440','1212811178724676','1212837504331914','1212812374170556','1212837506207616','1212837500954079','1212837504108663'] },
  { name: 'WARSTWY-IMPORT', gid: '1212837487510817', subtasks: ['1212812374466935','1212812374176961','1212812374369835','1212812374225204','1212812374377577','1212837512938207','1212837514147330','1212837514164338','1212837507057166','1212837513019374','1212837507763920','1212837506243612','1212812374315751','1212812926228061','1212837504108699'] },
  { name: 'WARSTWY-ZARZĄDZANIE', gid: '1212837487537647', subtasks: ['1212837864044196','1212837863120394','1212837857977885','1212837857978372','1212837863280452','1212837859070374','1212837859432718','1212837857978307','1212837859432708','1212837857619605','1212813214456937','1212837859061847','1212813214442481'] },
  { name: 'WŁAŚCIWOŚCI', gid: '1212812926071929', subtasks: ['1212811179881625','1212837888065034','1212837900385743','1212837890816402','1212813214649737','1212837891726031','1212837890821155','1212837888526521','1212837890824487','1212837891568140','1212837891049530','1212837888772201','1212837878730329','1212837888497840','1212837888491968','1212837887459325','1212837887479215','1212837863159470','1212837872086504','1212837861743713','1212837860779332','1212812927089439','1212837864040495','1212837861779752','1212837857978402'] },
  { name: 'TABELA', gid: '1212812373969967', subtasks: ['1212837920385851','1212813214811782','1212813214684014','1212811179973303','1212811179930355','1212811179958240','1212811179958230','1212837908493614','1212837901385233','1212813214651092','1212837891735081','1212812927234682','1212837891735066','1212837888884718','1212837891077430','1212837891705122','1212837901389580'] },
  { name: 'MAPA-NAWIGACJA', gid: '1212812926187046', subtasks: ['1212811180094963','1212837932026945','1212837929206305','1212837932381740','1212813214892173','1212837921420406','1212837929210520','1212813214836651','1212837929206285','1212837929515322','1212837929515312','1212837918055613'] },
  { name: 'NARZĘDZIA', gid: '1212837487488859', subtasks: ['1212813215046363','1212837953716747','1212837953859629','1212837953855053','1212837948718669','1212837942370958','1212837941649021','1212837942389141','1212837941644324','1212837947253416','1212837947253402','1212812927415060','1212837942369080','1212837941668147','1212837943978058','1212837941353355','1212837941337697','1212837941591688','1212837943941850','1212837942683995','1212837942365436','1212811180220336','1212837933332347','1212837933296487','1212837936425192','1212813215005944','1212837937811918','1212837936847515','1212837936875164','1212837936908005','1212837936425164','1212837936798030','1212837936824371','1212837937914725','1212837933287981','1212811180094976','1212837936777179','1212811180130393','1212813214889916','1212837936768598'] },
  { name: 'PUBLIKOWANIE', gid: '1212837497550766', subtasks: ['1212837951601481','1212837951601471','1212837957500041','1212837956953104','1212837951606281','1212813215114859','1212813215114849'] },
  { name: 'INTERFEJS', gid: '1212837487563876', subtasks: ['1212837963742363','1212837962390664','1212837963785133','1212837957318737','1212837958940359','1212837962367748','1212837958484397','1212837958484387','1212837958925203','1212837958508641','1212837957321614','1212811180344576'] },
  { name: 'WYDAJNOŚĆ', gid: '1212812926155836', subtasks: ['1212837964380958','1212813215118373','1212837972837408','1212837965309522','1212813215164371','1212837964383682','1212837961968993'] },
  { name: 'BŁĘDY', gid: '1212837496855208', subtasks: ['1212837971784486','1212837976908595','1212812927609661','1212837976554694','1212837976529406','1212837972866778','1212837976497190','1212837971784471','1212837962365675'] }
];

// Create flat list with category info
const queue = {
  tests: categories.flatMap(cat =>
    cat.subtasks.map(gid => ({ gid, category: cat.name }))
  ),
  total: 0
};

queue.total = queue.tests.length;

const path = require('path');
const outputPath = path.join(__dirname, '..', 'data', 'tests-queue.json');
fs.writeFileSync(outputPath, JSON.stringify(queue, null, 2));
console.log('Queue created: ' + queue.total + ' tests');
console.log('File: ' + outputPath);
